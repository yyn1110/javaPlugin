<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yao.yz.kubauser.persistence.dao.WeixinTemplateDao">

	<!--属性-->
	<parameterMap id="weixinTemplateParameterMap" type="com.yao.yz.kubauser.persistence.model.WeixinTemplate">
		<parameter property="templateId"/>
		<parameter property="templateContent"/>
		<parameter property="templateType"/>
		<parameter property="inputer"/>
		<parameter property="inputeDate"/>
		<parameter property="price"/>
	</parameterMap>

	<!--数据库字段与对象属性映射-->
	<resultMap id="weixinTemplateResultMap" type="com.yao.yz.kubauser.persistence.model.WeixinTemplate">
		<result property="templateId" column="template_id"/>
		<result property="templateContent" column="template_content"/>
		<result property="templateType" column="template_type"/>
		<result property="inputer" column="inputer"/>
		<result property="inputeDate" column="inpute_date"/>
		<result property="price" column="price"/>
	</resultMap>

	<!--新增-->
	<insert id="insert" parameterMap="weixinTemplateParameterMap" keyProperty="templateId" useGeneratedKeys="true">
		insert into weixin_template(`template_id`,`template_content`,`template_type`,`inputer`,`inpute_date`,`price`) values(?,?,?,?,?,?)
	</insert>

	<!--更新-->
	<update id="update" parameterMap="weixinTemplateParameterMap">
		update weixin_template set
		<trim suffixOverrides=",">
			<if test="templateContent != null">
				`template_content`=#{templateContent},
			</if>
			<if test="templateType != null">
				`template_type`=#{templateType},
			</if>
			<if test="inputer != null">
				`inputer`=#{inputer},
			</if>
			<if test="inputeDate != null">
				`inpute_date`=#{inputeDate},
			</if>
			<if test="price != null">
				`price`=#{price},
			</if>
		</trim>
		where `template_id`=#{templateId}
	</update>

	<!--删除-->
	<delete id="delete" parameterType="java.lang.Integer">
		delete from weixin_template where `template_id`=#{templateId}
	</delete>

	<!--查询-->
	<select id="getWeixinTemplateByKey" resultMap="weixinTemplateResultMap" parameterType="java.lang.Integer">
		select `template_id`,`template_content`,`template_type`,`inputer`,`inpute_date`,`price` from weixin_template where `template_id`=#{templateId}
	</select>

</mapper>
